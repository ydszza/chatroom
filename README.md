# chatroom
基于 QT + SOCKET 的多人聊天室  
  
介绍：  
	模仿QQ，实现登录，查看在线好友，群聊/私聊 的基本功能。
	
流程：  
	利用 QT 制作客户端端界面，登录->查看在线成员->选择群聊/私聊->进入相应的聊天界面  

	利用 Linux下线程/网络编程 接口制作后端，当一个客户端连接成功时，创建线程->登录时验证账号(暂未实现)->挂载至在线表->通知其他在线客户端->为上线客户端同步在线成员->准备工作完成进入消息的转发流程

亮点：  
	客户端采用统一的消息管理机制，通过信号与槽机制进行消息的分发  
	两端通信采用统一消息格式 验证位+客户端信息+消息内容  
	对比类似socket聊天室项目，复杂度/完成度更高  


不足：  
	未对 socket 通信结果进行验证  
	未进行 输入信息 有效性验证，即账号密码长度和有效性，发送的消息长度限制等  
	未对 在线列表 等线程共享资源操作进行相应的锁处理  
	未进行 边界条件 处理  
	消息转发流程过于繁琐耗时  
	未进行UI设计，过于简陋  

目的：
	学习Linux下C编程  
	学习Linux下接口应用  
	学习 QT 的基本使用  
	学习 C++ 编程  

后续  
	加入账号密码验证功能  
	完善项目的错误处理  
	完善线程间共享资源的处理  
	完善项目的边界条件处理  
	优化后端的消息转发代码(如减少内存拷贝的使用)  
	提高代码规范  
	完善项目的UI设计  
	优化程序的并发性(如采用select/poll/epoll等)  
	优化代码流程，例如在线列表的增删查(改链表方式为更加高效的数据结构，如树等)  


bug:  
	在ubuntu16.04 QT5.5.1环境下，同时打开多个客户端，后登录的客户端消息接收依次延迟一条消息，原因暂时发现(不一定发生)  
	如发生消息传递乱码，请参考 大小端/网络字节序问题 解决  
	